<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description"/><title>Hexo 搭建博客教程补遗 | Grok</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/highlight.css"/><link rel="stylesheet" type="text/css" href="/css/font.css"/><link rel="stylesheet" type="text/css" href="/css/noise.css"/><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Hexo/">Hexo</a></div><div class="post-time">2016-12-09</div></div></div><div class="container post-header"><h1>Hexo 搭建博客教程补遗</h1></div><div class="container post-content"><p>本文记录自己一些跟 Hexo 搭建博客相关的小心得，是对上一篇文章 <a href="http://lowrank.science/Hexo-Github/">知行合一 | 用 Hexo 搭建博客</a> 的补充。考虑到再加入到上文中，会模糊掉上文的重点，所以本文单独成文。</p>
<a id="more"></a>
<h2 id="1、文本、图片和参考资料的存放方案"><a href="#1、文本、图片和参考资料的存放方案" class="headerlink" title="1、文本、图片和参考资料的存放方案"></a>1、文本、图片和参考资料的存放方案</h2><p>于我而言，博客的日常访问量基本为零，博客只是写给自己看的，自己整理知识的一个工具而已。但通常情况下，对于 Hexo 博客，文本也就是 Markdown 文件，是存放在 <code>_posts</code> 文件夹下的，图片是放在图床上，参考资料更是分散在其他地方。对于只是普通的博客，自然不要紧，但如果当成知识整理的途径，那就要慎重了。因此，在搭建博客的过程中，特别考虑了一下博客的文本、图片和参考资料的保存和同步。</p>
<p>这里，分享一下我自己摸索的较为满意的方案。首先，所有内容都在自己建立的 Blog 文件夹下，举例来说 Blog 文件夹的具体结构如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── images</span><br><span class="line">|   └── 2016-12-03-Bandwagon-Shadowsocks</span><br><span class="line">|   └── Shared</span><br><span class="line">├── posts</span><br><span class="line">|   └── Bandwagon-Shadowsocks.md</span><br><span class="line">├── Reference</span><br><span class="line">|   └── 2016-12-03-Bandwagon-Shadowsocks</span><br><span class="line">├── your_name.github.io</span><br></pre></td></tr></table></figure>
<p>其中，images 文件夹存放图片，图片以每篇文章为单位存放，Shared 就是所有文章共享的图片，比如二维码，2016-12-03-Bandwagon-Shadowsocks 是某一天文章对应图片的文件夹；Reference 文件夹存放文章可能用到的参考资料，也是以每篇文章维单位，your_name.github.io 是自己博客真正的 Hexo 项目文件夹。整一个 Blog 文件夹均用 Dropbox、Onedrive、坚果云之类的云同步服务备份。</p>
<p>显然，我们还需要把 <code>Blog/posts</code> 文件夹下的 markdown 文件放到 <code>Blog/your_name.github.io/source/_posts</code> 文件夹下面，这样 Hexo generate 的时候才会生成我们想要的网页。我用得是 <strong>Always Sync</strong> 软件，将 <code>Blog/posts</code> 文件夹下的 markdown 文件单向同步到<code>Blog/your_name.github.io/source/_posts</code> 文件夹下。在 Always Sync 中新建一个同步组，比如 Blog，在 <strong>同步组</strong> -&gt; <strong>配置</strong> 中点击 Blog，在 <strong>同步规则</strong>中，<strong>同步方向</strong> 选取源文件夹，也就是 Blog/posts 文件夹，勾选 <strong>自动同步删除</strong> 和 <strong>自动同步覆盖</strong>；在 <strong>同步计划</strong>中，勾选 <strong>在文件变动中同步</strong>，且 <strong>请在指定同步间歇时间</strong> 中勾选 <strong>immediately</strong>。借助 Always Sync，我们对 <code>Blog/posts</code> 文件夹下 markdown 文件的修改会立刻同步到 <code>Blog/your_name.github.io/source/_posts</code> 文件夹下。</p>
<p>对于图片，博客文章中用到的图片，均存放在 <code>images</code> 文件夹下，在写作时，使用图床神器，Mac 下的 iPic，Windows 下的 MPic，直接得到七牛云图床的链接。更具体的可以看我之前的一篇文章 [知行合一 | 用 Hexo 搭建博客][<a href="http://lowrank.science/Hexo-Github/">http://lowrank.science/Hexo-Github/</a>] 中的 <strong>5. 更好的作者体验 部分</strong>。</p>
<h2 id="2、安装-cnpm-替换-npm"><a href="#2、安装-cnpm-替换-npm" class="headerlink" title="2、安装 cnpm 替换 npm"></a>2、安装 cnpm 替换 npm</h2><p>默认的 npm 源速度是非常非常慢的，在搭建 Hexo 博客以及安装 hexo-katex 这样的插件时候，我们都要在终端先敲入下面这条命令，切换淘宝的镜像，否则基本下不下来，等个半天也不见动。 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry "https://registry.npm.taobao.org"</span><br></pre></td></tr></table></figure>
<p>但每一次都这么输入，还是挺麻烦的。对于这个，有很多解决方法，这里介绍一种我自己采用的。在 <a href="https://npm.taobao.org/" target="_blank" rel="noopener">淘宝 NPM 镜像</a> 首页可以得知，淘宝定制了一款名为 <a href="https://github.com/cnpm/cnpm" target="_blank" rel="noopener">cnpm</a> 的命令行工具用来代替默认的 <code>npm</code>，安装这个工具只要在终端中输入：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>从此，安装模块时只要用 <code>cnpm</code> 替换 <code>npm</code> 即可，会直接从 淘宝 NPM 安装，安装命令形如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install [name]</span><br></pre></td></tr></table></figure>
<p><code>cnpm</code> 支持 <code>npm</code> 除了 <code>publish</code> 之外的所有命令，如:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm info connect</span><br></pre></td></tr></table></figure>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'YimianDai';
var disqus_identifier = 'Hexo-Addendum/';
var disqus_title = 'Hexo 搭建博客教程补遗';
var disqus_url = 'http://lowrank.science/Hexo-Addendum/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"/><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>