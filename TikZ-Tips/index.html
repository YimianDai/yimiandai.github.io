<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description"/><title>TikZ 止痛剂 | Grok</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/highlight.css"/><link rel="stylesheet" type="text/css" href="/css/font.css"/><link rel="stylesheet" type="text/css" href="/css/noise.css"/><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/LaTeX/">LaTeX</a><a class="post-tag-link" href="/tags/TikZ/">TikZ</a></div><div class="post-time">2017-03-02</div></div></div><div class="container post-header"><h1>TikZ 止痛剂</h1></div><div class="container post-content"><p>这篇日志，主要收集一下自己在 Tikz 画图时候使用的一些小技巧。</p>
<a id="more"></a>
<h2 id="1-Why-TikZ"><a href="#1-Why-TikZ" class="headerlink" title="1. Why TikZ ?"></a>1. Why TikZ ?</h2><p>在开始前，先撒一碗毒鸡汤。</p>
<p>都说 LaTeX 学习成本高，这么说是不是会给人留下一个错觉，认为学会了后就好了？很不幸，就我目前用 LaTeX 的感受而言，这个会的要求非常高，很可能用了好多年 LaTeX 后你还没有达到会的程度，也就是说，这个高门槛的学习痛苦会一直伴随着我们。有些人宣扬的 LaTeX 更加方便快捷、节省时间（比如图表公式参考文献交叉引用那些），个人认为其实并不成立。因为，用来学 LaTeX，Debug，Google 答案，等待大神回复的时间，远远超过用 Word 来做上面那些复杂繁琐的事情所花的时间。使用 TikZ 也是同样的心酸，相比 Visio 和 PPT，我相信在一个硕士、博士周期内， 在画图上，TikZ 并不能在整体上节省我们的时间。不幸的是，由于 TikZ 使用的人比 LaTeX 又远远的少的多，所以学习 TikZ、Google 答案，等待大神回复将是一个更加漫长而痛苦的过程。</p>
<p>既然我把学用 TikZ 说得那么痛苦，那为什么自己还要坚持用 TikZ 来画图呢？主要基于下面两点：</p>
<ul>
<li>TikZ 可以精确控制安放的位置，而 PPT 上我在尝试很多图像块堆叠时位置间距没法统一，作为细节控不能忍受，这是我开始学习 TikZ 的唯一原因；</li>
<li>我已经开始尝到编辑文本代码而非鼠标操作、循环语句以及代码复用所带来的方便快捷，在痛苦的学习过程中，几次这样的高峰体验，是让我继续坚持且坚定的原因。</li>
</ul>
<p>总结一下，就是希望能够用更加优雅的方式来解决问题，但这优雅背后的心酸只有自己知道了。</p>
<p>这篇日志，收集我自己在 Tikz 画图时候的一些小需求以及解决方法，如果能够降低你在学习 TikZ 过程中的痛苦，那就再好不过了。也是处于这个目的，我把日志名字取成了TikZ  止痛剂，希望这篇日志能够像布洛芬一样缓解学习 TikZ 的痛苦。</p>
<h2 id="2-Drawing-Tips"><a href="#2-Drawing-Tips" class="headerlink" title="2. Drawing Tips"></a>2. Drawing Tips</h2><h3 id="2-1-给插入图像添加边框"><a href="#2-1-给插入图像添加边框" class="headerlink" title="2.1 给插入图像添加边框"></a>2.1 给插入图像添加边框</h3><p>当将一些相近的纯色图像堆叠在一起的时候，有时需要在每张图像外边包一圈彩色的边框。这个需求，可以利用 <code>north west</code> 和 <code>south east</code> 这样的 Anchors 很容易的实现，举例的代码如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\node (a) [anchor = north west, inner sep = 0] at (0, 0) &#123;\includegraphics[scale=1]&#123;&quot;./img&quot;&#125;&#125;;</span><br><span class="line">\draw [red, line width=1mm] (a.north west) rectangle (a.south east);</span><br></pre></td></tr></table></figure>
<p>第一行插入图像，命名为 <code>a</code>，第二行，利用 <code>a.north west</code> 和 <code>a.south east</code> 指定矩形的对角线上的两点。</p>
<h3 id="2-2-把图像变成平行四边形"><a href="#2-2-把图像变成平行四边形" class="headerlink" title="2.2 把图像变成平行四边形"></a>2.2 把图像变成平行四边形</h3><p>有些时候，我们为了让图像有点立体感，希望能够将矩形的图像变成平行四边形。这个需求，利用 <code>\draw</code> 命令的 <code>xslant</code> 和 <code>yslant</code> 的两个属性值<a href="http://tex.stackexchange.com/questions/63179/shear-transform-a-box" target="_blank" rel="noopener">^xslant</a>，可以很容易的实现。我们先一个自己画的矩形变成平行四边形：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\tikz \draw[xslant = 1, fill = red] (0,0) rectangle (2,1);</span><br></pre></td></tr></table></figure>
<p>如果是图像的话，也差不多，代码为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\node[xslant = 1, draw] (a) at (0,0) &#123;\includegraphics[scale = 1]&#123;&quot;./img&quot;&#125;&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="3-Miscellaneous"><a href="#3-Miscellaneous" class="headerlink" title="3. Miscellaneous"></a>3. Miscellaneous</h2><h3 id="3-1-Font-larger-than-Huge"><a href="#3-1-Font-larger-than-Huge" class="headerlink" title="3.1 Font larger than \Huge?"></a>3.1 Font larger than <code>\Huge</code>?</h3><p>基本的 LaTeX 提供了 10 个简单的声明式命令来调整文字的大小，其中最大的一个就是 <code>\Huge</code>，字体尺寸为 24.88pt。在平时写论文的时候，基本不可能需要这么大的字体，更不用说比 <code>\Huge</code> 更大的了。但是，在 TikZ 作图时候，由于图片都很大，在不缩小图片的时候，<code>\Huge</code> 字体的文字就会显得比较小。那如何得到比 <code>Huge</code> 更大的字体呢？</p>
<p>一种方法是使用<code>moresize</code>宏包<a href="http://texblog.org/2012/08/29/changing-the-font-size-in-latex/" target="_blank" rel="noopener">^moresize</a>，在导言区加入下面这句话，就可以使用 <code>\HUGE</code> 命令了，会得到更大一点的字体。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;moresize&#125;</span><br></pre></td></tr></table></figure>
<p>另一种更普遍的方法是使用 <code>\fontsize</code> 命令<a href="http://tex.stackexchange.com/questions/265/fonts-larger-than-huge" target="_blank" rel="noopener">^fontsize</a>，前提是用的是 Type 1 字体（比如 <code>mathptmx</code> or <code>mathpazo</code>宏包），那么可以使用下面命令指定字体大小：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;\fontsize&#123;50&#125;&#123;60&#125;\selectfont Foo!&#125;</span><br></pre></td></tr></table></figure>
<p><code>Foo!</code> 是文字内容，这里的 <code>50</code> 是尺寸，<code>60</code> 是行距，通常行距要比字体尺寸大 20% 左右。</p>
<h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><p>最后，感谢 <a href="http://liam0205.me/" target="_blank" rel="noopener">L 叔</a> 在我第一次接触 TikZ 时给我提供的热心代码，以及 Dawn 在本文写作过程中给予的帮助，也感谢您一直阅读到这里，如果我的文章有错误或不足之处，请务必在评论中留言指出，千万不用客气，万分感谢~</p>
<h2 id="Release-Note"><a href="#Release-Note" class="headerlink" title="Release Note"></a>Release Note</h2><ul>
<li>2017-03-03: 第一次提交。</li>
</ul>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3></div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'YimianDai';
var disqus_identifier = 'TikZ-Tips/';
var disqus_title = 'TikZ 止痛剂';
var disqus_url = 'http://lowrank.science/TikZ-Tips/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"/><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>